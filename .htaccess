# Force UTF-8 encoding
AddDefaultCharset UTF-8

# Add charset to text files
AddCharset UTF-8 .html
AddCharset UTF-8 .js
AddCharset UTF-8 .css
AddCharset UTF-8 .json

# Set proper content type headers
<FilesMatch "\.html$">
    Header set Content-Type "text/html; charset=UTF-8"
</FilesMatch>

<FilesMatch "\.js$">
    Header set Content-Type "application/javascript; charset=UTF-8"
</FilesMatch>

<FilesMatch "\.css$">
    Header set Content-Type "text/css; charset=UTF-8"
</FilesMatch>

# Enable compression
<IfModule mod_deflate.c>
    AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css text/javascript application/javascript application/json
</IfModule>

# Cache control
<FilesMatch "\.(jpg|jpeg|png|gif|ico|css|js|svg)$">
    Header set Cache-Control "max-age=31536000, public"
</FilesMatch>

# Block access to sensitive files
<FilesMatch "^\.|\.htaccess|\.git|\.env">
    Order Allow,Deny
    Deny from all
</FilesMatch>
